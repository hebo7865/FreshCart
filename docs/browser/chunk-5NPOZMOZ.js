import{a as g,b as a,c as v,d as S,f as y,g as x,h as C,i as O,k as _}from"./chunk-JZX3S2BR.js";import{a as D}from"./chunk-G2BZQJLP.js";import{e as b}from"./chunk-64ELBKEU.js";import{Gb as h,La as c,V as s,Y as u,cb as p,kb as i,lb as t,mb as l,rb as f,zb as o}from"./chunk-ZO3JCBXH.js";import"./chunk-TMC7WMLO.js";var M=(()=>{let r=class r{constructor(){this._FormBuilder=s(O),this._ActivatedRoute=s(b),this._OrdersService=s(D),this.cartId="",this.orders=this._FormBuilder.group({details:[null,[a.required]],phone:[null,[a.required]],city:[null,[a.required]]})}submitOrders(){console.log(this.orders.value),this.ordersSub=this._OrdersService.checkOut(this.cartId,this.orders.value).subscribe({next:e=>{console.log(e),e.status==="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}})}ngOnInit(){this.activatedRouteSub=this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(this.cartId)},error:e=>{console.log(e)}})}ngOnDestroy(){this.activatedRouteSub?.unsubscribe(),this.ordersSub?.unsubscribe()}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=u({type:r,selectors:[["app-orders"]],standalone:!0,features:[h],decls:18,vars:1,consts:[[1,"my-8","bg-main","rounded-lg","p-6","shadow","lg:w-1/2","m-auto"],[1,"text-center","font-[700]","text-main","my-2","text-[30px]","text-secondary"],[3,"ngSubmit","formGroup"],[1,"my-2","flex","flex-col"],["for","details"],["formControlName","details","id","details","placeholder","Address Details...",1,"form-control"],["for","phone"],["formControlName","phone","id","phone","placeholder","phone...","type","tel",1,"form-control"],["for","city"],["formControlName","city","id","city","placeholder","city...","type","text",1,"form-control"],["type","submit",1,"btn-main"]],template:function(n,m){n&1&&(i(0,"section",0)(1,"h1",1),o(2,"Shiping Details"),t(),i(3,"form",2),f("ngSubmit",function(){return m.submitOrders()}),i(4,"div",3)(5,"label",4),o(6,"Details"),t(),l(7,"textarea",5),t(),i(8,"div",3)(9,"label",6),o(10,"Phone"),t(),l(11,"input",7),t(),i(12,"div",3)(13,"label",8),o(14,"City"),t(),l(15,"input",9),t(),i(16,"button",10),o(17,"Chech Out"),t()()()),n&2&&(c(3),p("formGroup",m.orders))},dependencies:[_,y,g,v,S,x,C]});let d=r;return d})();export{M as OrdersComponent};
