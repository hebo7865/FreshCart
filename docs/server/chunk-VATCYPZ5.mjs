import './polyfills.server.mjs';
import{a as P,c as V,d as j}from"./chunk-TVP2GZXS.mjs";import"./chunk-GTSSCL6B.mjs";import{l as B}from"./chunk-RYWYTRRJ.mjs";import"./chunk-VR6FVSOW.mjs";import{Db as l,Eb as c,Kb as E,La as S,Lb as F,Mb as W,Pa as n,Qb as I,Sb as L,V as d,Z as g,eb as C,gb as u,ha as f,ia as h,ja as _,kb as b,lb as w,mb as x,nb as v,ob as i,pb as a,qb as m,tb as y,vb as k,wb as T,yc as A}from"./chunk-P4ELNPHW.mjs";import"./chunk-VVCT4QZE.mjs";var M=(e,t)=>t.id,$=e=>["/details",e],D=()=>[1,2,3,4,5];function G(e,t){e&1&&(_(),i(0,"svg",9),m(1,"path",12),a())}function O(e,t){e&1&&(i(0,"span"),m(1,"i",13),a())}function U(e,t){if(e&1){let r=y();i(0,"div",1)(1,"div",2),m(2,"img",3),i(3,"div")(4,"h3",4),l(5),a(),i(6,"h5",5),l(7),a(),i(8,"span",6),l(9),I(10,"currency"),a(),i(11,"div",7)(12,"div",8),x(13,G,2,0,":svg:svg",9,w),C(15,O,2,0,"span"),a(),i(16,"span",10),l(17),a()()()(),i(18,"button",11),k("click",function(){let s=f(r).$implicit,p=T();return h(p.addProductToCart(s.id))}),l(19,"Add to cart"),a()()}if(e&2){let r=t.$implicit;n(),u("routerLink",W(10,$,r.id)),n(),u("src",r.imageCover,S),n(3),c(r.category.name),n(2),c(r.title.split(" ",2).join("")),n(2),c(L(10,7,r.price,"GBP")),n(4),v(F(12,D).slice(0,r.ratingsAverage)),n(2),b(15,r.ratingsAverage%1!==0?15:-1),n(2),c(r.ratingsAverage)}}var Q=(()=>{let t=class t{constructor(){this._WishlistService=d(j),this._CartService=d(V),this._ToastrService=d(P),this.wishlist=[]}ngOnInit(){this._WishlistService.getUserWishlist().subscribe({next:o=>{this.wishlist=o.data}})}addProductToCart(o){this._CartService.addToCart(o).subscribe({next:s=>{this._ToastrService.success(s.message,"Success"),this._CartService.cartNum.next(s.numOfCartItems)}})}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=g({type:t,selectors:[["app-wishlist"]],standalone:!0,features:[E],decls:4,vars:0,consts:[[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-6","gap-2","py-4"],[1,"relative","product","p-3","cursor-pointer","max-md:mx-3"],[3,"routerLink"],["alt","product image",1,"rounded-t-lg",3,"src"],[1,"text-amber-800"],[1,"text-xl","font-semibold","tracking-tight","text-gray-900","dark:text-white"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","mt-2.5","mb-5"],[1,"flex","items-center","space-x-1","rtl:space-x-reverse"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-4","h-4","text-yellow-300"],[1,"bg-blue-100","text-blue-800","text-xs","font-semibold","px-2.5","py-0.5","rounded","dark:bg-blue-200","dark:text-blue-800","ms-3"],[1,"btn-main","w-full",3,"click"],["d","M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"],[1,"fa-solid","fa-star-half","rating-color"]],template:function(s,p){s&1&&(i(0,"section")(1,"div",0),x(2,U,20,13,"div",1,M),a()()),s&2&&(n(2),v(p.wishlist.slice(0,12)))},dependencies:[B,A]});let e=t;return e})();export{Q as WishlistComponent};
