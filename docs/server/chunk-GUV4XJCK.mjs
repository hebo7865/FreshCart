import './polyfills.server.mjs';
import{a as k}from"./chunk-LRD54KCS.mjs";import{a as D,b as E,c as I,d as w}from"./chunk-MDXBZIEH.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-RYWYTRRJ.mjs";import"./chunk-VR6FVSOW.mjs";import{Db as a,Eb as d,Fb as v,Kb as O,La as h,Pa as r,Qb as p,Sb as c,V as g,Z as _,eb as S,gb as m,mb as u,nb as f,ob as i,pb as n,qb as y,wb as C,xc as b,yc as T}from"./chunk-P4ELNPHW.mjs";import"./chunk-VVCT4QZE.mjs";var F=(t,e)=>e.id,P=(t,e)=>e.product.id;function A(t,e){if(t&1&&(i(0,"div")(1,"div"),y(2,"img",8),n(),i(3,"div")(4,"p",9),a(5),n(),i(6,"p",10),a(7),p(8,"currency"),n()()()),t&2){let o=e.$implicit;r(2),m("src",o.product.imageCover,h)("alt",o.product.title),r(3),d(o.product.title.split(" ",2).join("")),r(2),d(c(8,4,o.price,"GBP"))}}function B(t,e){if(t&1&&(i(0,"div",4)(1,"p"),a(2),n(),i(3,"div",5)(4,"p"),a(5),p(6,"date"),n(),i(7,"p"),a(8," Total Price: "),i(9,"span",6),a(10),p(11,"currency"),n()()()(),i(12,"div",7),u(13,A,9,7,"div",null,P),n()),t&2){let o=C().$implicit;r(2),v(" Order ID: ",o._id," "),r(3),v(" Orded at: ",c(6,3,o.paidAt,"dd/MM/yyyy")," "),r(5),d(c(11,6,o.totalOrderPrice,"GBP")),r(3),f(o.cartItems)}}function M(t,e){t&1&&S(0,B,15,9,"ng-template",3)}var J=(()=>{let e=class e{constructor(){this._OrdersService=g(k),this.userToken=w(localStorage.getItem("userToken")),this.userOrders=[{}],this.orderCustomOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:['<i class="text-secondary fa-solid fa-chevron-left"></i>','<i class="text-secondary fa-solid fa-chevron-right"></i>'],responsive:{0:{items:1}},nav:!0}}ngOnInit(){console.log(this.userToken),this.ordersSub=this._OrdersService.userOrders(this.userToken.id).subscribe({next:s=>{this.userOrders=s,console.log(this.userOrders)},error:s=>{console.log(s)}})}ngOnDestroy(){this.ordersSub?.unsubscribe()}};e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=_({type:e,selectors:[["app-allorders"]],standalone:!0,features:[O],decls:6,vars:1,consts:[[1,"my-8","bg-main","rounded-lg","p-6","shadow","lg:w-1/2","m-auto"],[1,"text-center","font-[700]","text-main","my-2","text-[30px]","text-secondary"],[3,"options"],["carouselSlide",""],[1,"border-b-2","border-white"],[1,"flex","items-center","justify-between"],[1,"font-semibold","text-main","text-lg"],[1,"grid","md:grid-cols-4","gap-4","p-2"],[3,"src","alt"],[1,"text-lg"],[1,"font-semibold"]],template:function(l,x){l&1&&(i(0,"section",0)(1,"h1",1),a(2,"All Your Orders"),n(),i(3,"owl-carousel-o",2),u(4,M,1,0,null,3,F),n()()),l&2&&(r(3),m("options",x.orderCustomOptions),r(),f(x.userOrders))},dependencies:[b,I,E,D,T]});let t=e;return t})();export{J as AllordersComponent};
